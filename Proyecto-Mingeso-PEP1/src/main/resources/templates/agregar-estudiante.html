<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Formulario de Ingreso de Estudiantes</title>
</head>
<body>
<h2>Formulario de Ingreso de Estudiantes</h2>
<form th:action="@{/guardar}" method="POST">
    <!-- Campo RUT -->
    <label for="rut">RUT:</label>
    <input type="text" id="rut" name="rut" th:required="required">
    <br><br>

    <!-- Campo Apellidos -->
    <label for="apellidos">Apellidos:</label>
    <input type="text" id="apellidos" name="apellidos" th:required="required">
    <br><br>

    <!-- Campo Nombres -->
    <label for="nombres">Nombres:</label>
    <input type="text" id="nombres" name="nombres" th:required="required">
    <br><br>

    <!-- Campo Fecha de Nacimiento -->
    <label for="fechaNacimiento">Fecha de Nacimiento:</label>
    <input type="text" id="fechaNacimiento" name="fechaNacimiento" th:required="required">
    <br><br>

    <!-- Campo Tipo Colegio Procedencia -->
    <label for="tipoColegioProcedencia">Tipo Colegio Procedencia:</label>
    <select id="tipoColegioProcedencia" name="tipoColegioProcedencia">
        <option value="Municipal">Municipal</option>
        <option value="Subvencionado">Subvencionado</option>
        <option value="Privado">Privado</option>
    </select>
    <br><br>

    <!-- Campo Nombre del Colegio -->
    <label for="nombreColegio">Nombre del Colegio:</label>
    <input type="text" id="nombreColegio" name="nombreColegio" th:required="required">
    <br><br>

    <!-- Campo Año de Egreso del Colegio -->
    <label for="anoEgresoColegio">Año de Egreso del Colegio:</label>
    <input type="number" id="anoEgresoColegio" name="anoEgresoColegio" th:required="required">
    <br><br>

    <!-- Campo Tipo Pago -->
    <label for="tipoPago">Tipo Pago:</label>
    <select id="tipoPago" name="tipoPago">
        <option value="0">Al contado</option>
        <option value="1">Cuotas</option>
    </select>
    <br><br>

    <!-- Botón para enviar el formulario -->
    <input type="submit" value="Guardar Estudiante">
</form>
<script>
    // Obtener referencias a los elementos del formulario
    const tipoColegioProcedencia = document.getElementById("tipoColegioProcedencia");
    const tipoPago = document.getElementById("tipoPago");

    // Definir las opciones para cada tipo de colegio
    const opcionesMunicipal = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    const opcionesSubvencionado = [0, 1, 2, 3, 4, 5, 6, 7];
    const opcionesPrivado = [0, 1, 2, 3, 4];

    // Función para actualizar las opciones del segundo campo
    function actualizarOpciones() {
        tipoPago.innerHTML = ""; // Limpiar las opciones actuales

        // Obtener las opciones según la selección del primer campo
        const tipoSeleccionado = tipoColegioProcedencia.value;
        const opciones = tipoSeleccionado === "Municipal" ? opcionesMunicipal :
            tipoSeleccionado === "Subvencionado" ? opcionesSubvencionado :
                tipoSeleccionado === "Privado" ? opcionesPrivado : [];

        // Agregar las nuevas opciones al segundo campo
        for (const opcion of opciones) {
            const option = document.createElement("option");
            option.text = opcion;
            option.value = opcion;
            tipoPago.appendChild(option);
        }
    }

    // Escuchar cambios en el primer campo
    tipoColegioProcedencia.addEventListener("change", actualizarOpciones);

    // Llamar a la función inicialmente para establecer las opciones iniciales
    actualizarOpciones();
</script>
</body>
</html>
